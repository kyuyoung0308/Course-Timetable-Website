<h1> SE 3316 Lab 5</h1>
<div *ngIf="!isSignedIn && !isAdmin">

  <h2>About</h2>
  <p>This website offers unauthenticated users to search for timetables and course reviews and for authenticated users
    to create schedules(timetables) as well as write course reviews!</p>
  <p>Sign up now if you haven't. If you are authenticated Sign in below!</p>
  <h2>Sign Up!</h2>
  <input type="text" placeholder="Enter Email..." #emailSignup />
  <button (click)="validateEmail(emailSignup.value)">Validate Email</button>
  <input type="text" placeholder="Enter Password..." #passwordSignup />
  <button (click)="onSignup(emailSignup.value,passwordSignup.value)">Sign Up</button>
</div>
<hr>
<div *ngIf="!isSignedIn && !isAdmin">
  <h2>Sign In!</h2>
  <input type="text" placeholder="Enter Email..." #email />
  <button (click)="validateEmail(email.value)">Validate Email</button>
  <input type="text" placeholder="Enter Password..." #password />

  <button (click)="onSignin(email.value,password.value)">Sign In</button>
</div>
<hr>
<div *ngIf="!isSignedIn && !isAdmin">

  <div class="search">
    <h2>Search for Courses</h2>
    <label for="subjectSearch"></label>
    <input id="searchSub" type="text" placeholder="Subject..." />

    <label for="subjectSearch"></label>
    <input id="searchCode" type="text" placeholder="Course Code..." />

    <label for="subjectSearch"></label>
    <input id="searchComp" type="text" placeholder="Component..." />
    <button class="button" (click)="search()">Search</button><br><br>

  </div>
  <div>
    <hr>
    <h2>Search By Keyword</h2>
    <label for="keywordSearch"></label>
    <input id="searchKey" type="text" placeholder="Keyword..." />

    <button class="button" (click)="searchKeyword()">Search By Keyword</button><br><br>
    <ul>
      <li *ngFor="let info of keys">
        <hr>
        <span>Subject Name: {{info.subject}}</span><br>
        <span>Course Code: {{info.catalog_nbr}}</span><br>
        <span>Section: {{info.course_info[0].class_section}}</span><br>
        <span>Component: {{info.course_info[0].ssr_component}}</span><br>

        <div class="container" [class.show]="info.show">
          <span>Class Name: {{info.className}}</span><br><br>

          <span>Start Time: {{info.course_info[0].start_time}}</span><br><br>
          <span>End Time: {{info.course_info[0].end_time}}</span><br><br>

          <span>{{info.course_info[0].descrlong}}</span><br><br>
          <span>Facility: {{info.course_info[0].facility_ID}}</span></div>
        <button (click)="info.show = !info.show ">{{ !info.show ? 'Show less': 'Show More' }}</button>
      </li>
    </ul>

  </div>

  <ul>
    <li *ngFor="let info of listInfo">
      <hr>
      <span>Subject Name: {{info.subject}}</span><br>
      <span>Course Code: {{info.catalog_nbr}}</span><br>
      <span>Section: {{info.course_info[0].class_section}}</span><br>
      <span>Component: {{info.course_info[0].ssr_component}}</span><br>

      <div class="container" [class.show]="info.show">
        <span>Class Name: {{info.className}}</span><br><br>

        <span>Start Time: {{info.course_info[0].start_time}}</span><br><br>
        <span>End Time: {{info.course_info[0].end_time}}</span><br><br>


        <span>{{info.course_info[0].descrlong}}</span><br><br>
        <span>Facility: {{info.course_info[0].facility_ID}}</span></div>
      <button (click)="info.show = !info.show ">{{ !info.show ? 'Show less': 'Show More' }}</button>
    </li>
  </ul>
  <hr>
</div>
<app-login-component *ngIf="!isSignedIn && click"></app-login-component>

  <br><br>
  <app-user-component *ngIf="isSignedIn && !isAdmin" (isLogout)="handleLogout()">Log out</app-user-component>
  <app-register-component *ngIf="isSignedIn && isAdmin" (isLogout)="handleLogout()">Log out</app-register-component>
  
<div >
  <hr>
  <h2>Copyright Enforcement</h2>
  <h3>Security and Privacy</h3>
  <ul>
    <li *ngFor="let info of securityInfo">
      <span>{{info.security}}</span><br>
    </li>
  </ul>
  <button class="button" (click)="displaySecurity()">Display Security and Privacy</button><br><br>
 
  <hr>
  <h3>Acceptable Use Policy (AUP)</h3>
  <ul>
    <li *ngFor="let info of aupInfo">
      <span>{{info.aup}}</span><br>
    </li>
  </ul>
  <button class="button" (click)="displayPolicy()">Display AUP</button><br><br>
  <hr>
  <h3>DMCA Notice and Takedown Policy</h3>
  <ul>
    <li *ngFor="let info of dmcaInfo">
      <span>{{info.dmca}}</span><br>
    </li>
  </ul>
  <button class="button" (click)="displayNotice()">Display DMCA</button><br><br>
  </div>
  <div *ngIf="!isSignedIn">
    <h2>Adminstrator</h2>
    <input type="text" placeholder="Enter Email..." #email />
    <button (click)="validateEmail(email.value)">Validate Email</button>
    <input type="text" placeholder="Enter Password..." #password /><br>
    <button (click)="onSignadmin(email.value,password.value)">Login as Admin</button><br><br>
  </div>